{"version":3,"sources":["jquery.ba-throttle-debounce.min.js","jquery.fitvids.js","gallery-card.js","infinite-scroll.js","sticky-nav-title.js"],"names":["b","c","a","$","jQuery","Cowboy","throttle","e","f","j","i","h","d","g","o","this","m","Date","n","arguments","l","apply","clearTimeout","setTimeout","guid","debounce","fn","fitVids","options","head","div","settings","customSelector","ignore","document","getElementById","getElementsByTagName","createElement","innerHTML","appendChild","childNodes","extend","each","selectors","push","ignoreList","$allVideos","find","join","not","aspectRatio","videoName","$this","parents","length","tagName","toLowerCase","parent","css","isNaN","attr","parseInt","height","width","_count","wrap","removeAttr","window","Zepto","addEventListener","querySelectorAll","forEach","image","container","closest","ratio","attributes","value","style","flex","feedElement","buffer","ticking","loading","lastScrollY","lastWindowHeight","lastDocumentHeight","nextElement","querySelector","onPageLoad","status","removeEventListener","onScroll","onResize","response","item","importNode","resNextElement","href","documentElement","scrollHeight","onUpdate","xhr","XMLHttpRequest","responseType","open","send","requestTick","requestAnimationFrame","scrollY","innerHeight","passive","Ocean","stickyNavTitle","nav","navSelector","title","titleSelector","update","getBoundingClientRect","top","offsetHeight","classList","add","activeClass","remove"],"mappings":"CAQA,SAAAA,EAAAC,GAAA,IAAAC,EAAAC,EAAAH,EAAAI,QAAAJ,EAAAK,SAAAL,EAAAK,OAAA,IAAAF,EAAAG,SAAAJ,EAAA,SAAAK,EAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAA,EAAA,SAAAC,IAAA,IAAAC,EAAAC,KAAAC,GAAA,IAAAC,KAAAL,EAAAM,EAAAC,UAAA,SAAAC,IAAAR,GAAA,IAAAK,KAAAR,EAAAY,MAAAP,EAAAI,GAAAR,IAAAC,GAAAS,IAAAT,GAAAW,aAAAX,GAAAD,IAAAT,GAAAM,EAAAS,EAAAI,KAAA,IAAAZ,IAAAG,EAAAY,WAAAb,EAAA,WAAAC,EAAAV,GAAAmB,EAAAV,IAAAT,EAAAM,EAAAS,EAAAT,IAAA,MAAA,kBAAAC,IAAAE,EAAAD,EAAAA,EAAAD,EAAAA,EAAAP,GAAAE,EAAAqB,OAAAX,EAAAW,KAAAf,EAAAe,KAAAf,EAAAe,MAAArB,EAAAqB,QAAAX,GAAAV,EAAAsB,SAAA,SAAAb,EAAAL,EAAAC,GAAA,OAAAA,IAAAP,EAAAC,EAAAU,EAAAL,GAAA,GAAAL,EAAAU,EAAAJ,GAAA,IAAAD,IAAA,CAAAQ,MCIA,SAAAZ,gBAIAA,EAAAuB,GAAAC,QAAA,SAAAC,GACA,IAOAC,EAEAC,EATAC,EAAA,CACAC,eAAA,KACAC,OAAA,MAgBA,OAbAC,SAAAC,eAAA,oBAEAN,EAAAK,SAAAL,MAAAK,SAAAE,qBAAA,QAAA,IAEAN,EAAAI,SAAAG,cAAA,QACAC,UAAA,oUACAT,EAAAU,YAAAT,EAAAU,WAAA,KAGAZ,GACAzB,EAAAsC,OAAAV,EAAAH,GAGAb,KAAA2B,KAAA,WACA,IAAAC,EAAA,CACA,kCACA,6BACA,sCACA,oDACA,SACA,SAGAZ,EAAAC,gBACAW,EAAAC,KAAAb,EAAAC,gBAGA,IAAAa,EAAA,iBAEAd,EAAAE,SACAY,EAAAA,EAAA,KAAAd,EAAAE,QAGAa,EAAA3C,EAAAY,MAAAgC,KAAAJ,EAAAK,KAAA,OAEAF,GADAA,EAAAA,EAAAG,IAAA,kBACAA,IAAAJ,IAEAH,KAAA,WACA,IAYAQ,EAEAC,EAdAC,EAAAjD,EAAAY,MACA,EAAAqC,EAAAC,QAAAR,GAAAS,QAGA,UAAAvC,KAAAwC,QAAAC,eAAAJ,EAAAK,OAAA,UAAAH,QAAAF,EAAAK,OAAA,8BAAAH,SACAF,EAAAM,IAAA,WAAAN,EAAAM,IAAA,WAAAC,MAAAP,EAAAQ,KAAA,aAAAD,MAAAP,EAAAQ,KAAA,YAEAR,EAAAQ,KAAA,SAAA,GACAR,EAAAQ,KAAA,QAAA,KAIAV,GAFA,WAAAnC,KAAAwC,QAAAC,eAAAJ,EAAAQ,KAAA,YAAAD,MAAAE,SAAAT,EAAAQ,KAAA,UAAA,KAAAC,SAAAT,EAAAQ,KAAA,UAAA,IAAAR,EAAAU,WACAH,MAAAE,SAAAT,EAAAQ,KAAA,SAAA,KAAAR,EAAAW,QAAAF,SAAAT,EAAAQ,KAAA,SAAA,KAEAR,EAAAQ,KAAA,UACAT,EAAA,SAAAhD,EAAAuB,GAAAC,QAAAqC,OACAZ,EAAAQ,KAAA,OAAAT,GACAhD,EAAAuB,GAAAC,QAAAqC,UAEAZ,EAAAa,KAAA,gGAAAR,OAAA,8BAAAC,IAAA,cAAA,IAAAR,EAAA,KACAE,EAAAc,WAAA,UAAAA,WAAA,eAMA/D,EAAAuB,GAAAC,QAAAqC,OAAA,EAzEA,CA4EAG,OAAA/D,QAAA+D,OAAAC,OC9EA,SAAAlC,GAYAA,EAAAmC,iBAAA,mBAXA,WACAnC,EAAAoC,iBAAA,yBACAC,QAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAE,QAAA,qBAGAC,EAFAH,EAAAI,WAAAb,MAAAc,MACAL,EAAAI,WAAAd,OAAAe,MAEAJ,EAAAK,MAAAC,KAAAJ,EAAA,YARA,EAaAR,OAAAjC,WCRA,SAAAiC,EAAAjC,GAEA,IAMA8C,EAKAC,EAEAC,EACAC,EAEAC,EACAC,EACAC,EAlBAC,EAAArD,EAAAsD,cAAA,kBAoBA,SAAAC,IACA,GAAA,MAAA1E,KAAA2E,OAGA,OAFAvB,EAAAwB,oBAAA,SAAAC,QACAzB,EAAAwB,oBAAA,SAAAE,GAKA9E,KAAA+E,SAAAxB,iBAAA,cACAC,QAAA,SAAAwB,GAIAf,EAAAzC,YAAAL,EAAA8D,WAAAD,GAAA,MAIA,IAAAE,EAAAlF,KAAA+E,SAAAN,cAAA,kBACAS,EACAV,EAAAW,KAAAD,EAAAC,MAEA/B,EAAAwB,oBAAA,SAAAC,GACAzB,EAAAwB,oBAAA,SAAAE,IAIAP,EAAApD,EAAAiE,gBAAAC,aAEAjB,EADAD,GAAA,EAIA,SAAAmB,IAEA,IAYAC,EAZAnB,IAKAC,EAAAC,GAAAC,EAAAL,EACAC,GAAA,GAIAC,GAAA,GAEAmB,EAAA,IAAAnC,EAAAoC,gBACAC,aAAA,WAEAF,EAAAjC,iBAAA,OAAAoB,GAEAa,EAAAG,KAAA,MAAAlB,EAAAW,MACAI,EAAAI,KAAA,QAGA,SAAAC,IACAzB,GAAAf,EAAAyC,sBAAAP,GACAnB,GAAA,EAGA,SAAAU,IACAR,EAAAjB,EAAA0C,QACAF,IAGA,SAAAd,IACAR,EAAAlB,EAAA2C,YACAxB,EAAApD,EAAAiE,gBAAAC,aACAO,KAtFApB,IAKAP,EAAA9C,EAAAsD,cAAA,iBAQAL,EADAD,IAFAD,EAAA,KAKAG,EAAAjB,EAAA0C,QACAxB,EAAAlB,EAAA2C,YACAxB,EAAApD,EAAAiE,gBAAAC,aAwEAjC,EAAAE,iBAAA,SAAAuB,EAAA,CAAAmB,SAAA,IACA5C,EAAAE,iBAAA,SAAAwB,GAEAc,KA/FA,CAgGAxC,OAAAjC,UC9FA,SAAAiC,EAAAjC,GAEAiC,EAAA6C,QACA7C,EAAA6C,MAAA,IAGA7C,EAAA6C,MAAAC,eAAA,SAAArF,GACA,IAAAsF,EAAAhF,EAAAsD,cAAA5D,EAAAuF,aACAC,EAAAlF,EAAAsD,cAAA5D,EAAAyF,eAEAjC,EAAAjB,EAAA0C,QACA3B,GAAA,EAcA,SAAAoC,IACAF,EAAAG,wBAAAC,IAAArD,EAAA0C,SACAO,EAAAK,aAAA,KAGArC,EACA8B,EAAAQ,UAAAC,IAAA/F,EAAAgG,aAEAV,EAAAQ,UAAAG,OAAAjG,EAAAgG,aAGA1C,GAAA,EAGAf,EAAAE,iBAAA,SA1BA,WACAe,EAAAjB,EAAA0C,QAKA3B,GACA0B,sBAAAU,GAEApC,GAAA,GAiBA,CAAA6B,SAAA,IAEAO,KAzCA,CA2CAnD,OAAAjC","file":"ocean.js","sourcesContent":["/*\n * jQuery throttle / debounce - v1.1 - 3/7/2010\n * http://benalman.com/projects/jquery-throttle-debounce-plugin/\n * \n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!==\"boolean\"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);","/*jshint browser:true */\r\n/*!\r\n* FitVids 1.3\r\n*\r\n*\r\n* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\r\n* This is an unofficial release, ported by John O'Nolan\r\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\r\n* Released under the MIT license\r\n*\r\n*/\r\n\r\n;(function( $ ){\r\n\r\n  'use strict';\r\n\r\n  $.fn.fitVids = function( options ) {\r\n    var settings = {\r\n      customSelector: null,\r\n      ignore: null\r\n    };\r\n\r\n    if(!document.getElementById('fit-vids-style')) {\r\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\r\n      var head = document.head || document.getElementsByTagName('head')[0];\r\n      var css = '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\r\n      var div = document.createElement(\"div\");\r\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\r\n      head.appendChild(div.childNodes[1]);\r\n    }\r\n\r\n    if ( options ) {\r\n      $.extend( settings, options );\r\n    }\r\n\r\n    return this.each(function(){\r\n      var selectors = [\r\n        'iframe[src*=\"player.vimeo.com\"]',\r\n        'iframe[src*=\"youtube.com\"]',\r\n        'iframe[src*=\"youtube-nocookie.com\"]',\r\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\r\n        'object',\r\n        'embed'\r\n      ];\r\n\r\n      if (settings.customSelector) {\r\n        selectors.push(settings.customSelector);\r\n      }\r\n\r\n      var ignoreList = '.fitvidsignore';\r\n\r\n      if(settings.ignore) {\r\n        ignoreList = ignoreList + ', ' + settings.ignore;\r\n      }\r\n\r\n      var $allVideos = $(this).find(selectors.join(','));\r\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\r\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\r\n\r\n      $allVideos.each(function(){\r\n        var $this = $(this);\r\n        if($this.parents(ignoreList).length > 0) {\r\n          return; // Disable FitVids on this video.\r\n        }\r\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\r\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\r\n        {\r\n          $this.attr('height', 9);\r\n          $this.attr('width', 16);\r\n        }\r\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\r\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\r\n            aspectRatio = height / width;\r\n        if(!$this.attr('name')){\r\n          var videoName = 'fitvid' + $.fn.fitVids._count;\r\n          $this.attr('name', videoName);\r\n          $.fn.fitVids._count++;\r\n        }\r\n        $this.wrap('<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\r\n        $this.removeAttr('height').removeAttr('width');\r\n      });\r\n    });\r\n  };\r\n\r\n  // Internal counter for unique video names.\r\n  $.fn.fitVids._count = 0;\r\n\r\n// Works with either jQuery or Zepto\r\n})( window.jQuery || window.Zepto );\r\n","/* eslint-env browser */\r\n\r\n/**\r\n * Gallery card support\r\n * Used on any individual post/page\r\n *\r\n * Detects when a gallery card has been used and applies sizing to make sure\r\n * the display matches what is seen in the editor.\r\n */\r\n\r\n(function (window, document) {\r\n    var resizeImagesInGalleries = function resizeImagesInGalleries() {\r\n        var images = document.querySelectorAll('.kg-gallery-image img');\r\n        images.forEach(function (image) {\r\n            var container = image.closest('.kg-gallery-image');\r\n            var width = image.attributes.width.value;\r\n            var height = image.attributes.height.value;\r\n            var ratio = width / height;\r\n            container.style.flex = ratio + ' 1 0%';\r\n        });\r\n    };\r\n\r\n    document.addEventListener('DOMContentLoaded', resizeImagesInGalleries);\r\n})(window, document);\r\n","/* eslint-env browser */\r\n\r\n/**\r\n * Infinite Scroll\r\n * Used on all pages where there is a list of posts (homepage, tag index, etc).\r\n *\r\n * When the page is scrolled to 300px from the bottom, the next page of posts\r\n * is fetched by following the the <link rel=\"next\" href=\"...\"> that is output\r\n * by {{ghost_head}}.\r\n *\r\n * The individual post items are extracted from the fetched pages by looking for\r\n * a wrapper element with the class \"post-card\". Any found elements are appended\r\n * to the element with the class \"post-feed\" in the currently viewed page.\r\n */\r\n\r\n(function (window, document) {\r\n    // next link element\r\n    var nextElement = document.querySelector('link[rel=next]');\r\n    if (!nextElement) {\r\n        return;\r\n    }\r\n\r\n    // post feed element\r\n    var feedElement = document.querySelector('.post-feed');\r\n    if (!feedElement) {\r\n        return;\r\n    }\r\n\r\n    var buffer = 300;\r\n\r\n    var ticking = false;\r\n    var loading = false;\r\n\r\n    var lastScrollY = window.scrollY;\r\n    var lastWindowHeight = window.innerHeight;\r\n    var lastDocumentHeight = document.documentElement.scrollHeight;\r\n\r\n    function onPageLoad() {\r\n        if (this.status === 404) {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n            return;\r\n        }\r\n\r\n        // append contents\r\n        var postElements = this.response.querySelectorAll('.post-card');\r\n        postElements.forEach(function (item) {\r\n            // document.importNode is important, without it the item's owner\r\n            // document will be different which can break resizing of\r\n            // `object-fit: cover` images in Safari\r\n            feedElement.appendChild(document.importNode(item, true));\r\n        });\r\n\r\n        // set next link\r\n        var resNextElement = this.response.querySelector('link[rel=next]');\r\n        if (resNextElement) {\r\n            nextElement.href = resNextElement.href;\r\n        } else {\r\n            window.removeEventListener('scroll', onScroll);\r\n            window.removeEventListener('resize', onResize);\r\n        }\r\n\r\n        // sync status\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        ticking = false;\r\n        loading = false;\r\n    }\r\n\r\n    function onUpdate() {\r\n        // return if already loading\r\n        if (loading) {\r\n            return;\r\n        }\r\n\r\n        // return if not scroll to the bottom\r\n        if (lastScrollY + lastWindowHeight <= lastDocumentHeight - buffer) {\r\n            ticking = false;\r\n            return;\r\n        }\r\n\r\n        loading = true;\r\n\r\n        var xhr = new window.XMLHttpRequest();\r\n        xhr.responseType = 'document';\r\n\r\n        xhr.addEventListener('load', onPageLoad);\r\n\r\n        xhr.open('GET', nextElement.href);\r\n        xhr.send(null);\r\n    }\r\n\r\n    function requestTick() {\r\n        ticking || window.requestAnimationFrame(onUpdate);\r\n        ticking = true;\r\n    }\r\n\r\n    function onScroll() {\r\n        lastScrollY = window.scrollY;\r\n        requestTick();\r\n    }\r\n\r\n    function onResize() {\r\n        lastWindowHeight = window.innerHeight;\r\n        lastDocumentHeight = document.documentElement.scrollHeight;\r\n        requestTick();\r\n    }\r\n\r\n    window.addEventListener('scroll', onScroll, {passive: true});\r\n    window.addEventListener('resize', onResize);\r\n\r\n    requestTick();\r\n})(window, document);\r\n","/* eslint-env browser */\r\n\r\n/**\r\n * Nav/Title replacement\r\n * Used on invividual post pages, displays the post title in place of the nav\r\n * bar when scrolling past the title\r\n *\r\n * Usage:\r\n * ```\r\n * Ocean.stickyTitle({\r\n *     navSelector: '.site-nav-main',\r\n *     titleSelector: '.post-full-title',\r\n *     activeClass: 'nav-post-title-active'\r\n * });\r\n * ```\r\n */\r\n\r\n(function (window, document) {\r\n    // set up Ocean as a global object\r\n    if (!window.Ocean) {\r\n        window.Ocean = {};\r\n    }\r\n\r\n    window.Ocean.stickyNavTitle = function stickyNavTitle(options) {\r\n        var nav = document.querySelector(options.navSelector);\r\n        var title = document.querySelector(options.titleSelector);\r\n\r\n        var lastScrollY = window.scrollY;\r\n        var ticking = false;\r\n\r\n        function onScroll() {\r\n            lastScrollY = window.scrollY;\r\n            requestTick();\r\n        }\r\n\r\n        function requestTick() {\r\n            if (!ticking) {\r\n                requestAnimationFrame(update);\r\n            }\r\n            ticking = true;\r\n        }\r\n\r\n        function update() {\r\n            var trigger = title.getBoundingClientRect().top + window.scrollY;\r\n            var triggerOffset = title.offsetHeight + 35;\r\n\r\n            // show/hide post title\r\n            if (lastScrollY >= trigger + triggerOffset) {\r\n                nav.classList.add(options.activeClass);\r\n            } else {\r\n                nav.classList.remove(options.activeClass);\r\n            }\r\n\r\n            ticking = false;\r\n        }\r\n\r\n        window.addEventListener('scroll', onScroll, {passive: true});\r\n\r\n        update();\r\n    };\r\n})(window, document);\r\n"]}